name: Checkout Repository

description: "This action checks out the code from the repository using the \nGitHub Actions 'actions/checkout' action with sparse checkout.\n#magic___^_^___line\n"
inputs:

  paths:
    description: 'A comma-separated list of paths to checkout (e.g., dir1/*, dir2/file.txt). Defaults to all files.'
    required: false
    default: '.'

  image_name:
    description: 'The name of the Docker image to build.'
    required: true

  image_tag:
    description: "tag"
    required: true

runs:
  using: "composite"
  steps:
  - name: Checkout code
    uses: actions/checkout@v4
    with:
      sparse-checkout: ${{ inputs.paths }}
      
  - name: Secret Scanner
    uses: secret-scanner/action@0.0.2

  - name: Build Docker image
    shell: bash
    run: |
      docker build -t=${{ inputs.image_name }}:${{ inputs.image_tag }} .


